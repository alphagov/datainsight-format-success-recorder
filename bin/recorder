#!/usr/bin/env ruby
require 'bundler/setup'
Bundler.require(:default, :recorder)

require_relative '../lib/datamapper_config'
require_relative '../lib/recorders/format_success'

include GLI

program_desc 'Stuff'

version 0.1

desc 'Listen for messages'
command :run do |c|
  c.action do |global_options, options, args|
    Datainsight::Logging.configure(:type => :recorder)
    DataMapperConfig.configure
    Recorders::FormatSuccessRecorder.new.run
  end
end

exit GLI.run(ARGV)

